<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>tyoribrowser ÂÆÆÊú®edition</title>
<style>
    body {
        background: linear-gradient(135deg, #a8e6ff, #d4f3ff);
        font-family: "Rounded Mplus 1c", "Hiragino Maru Gothic ProN", sans-serif;
        text-align: center;
        padding-top: 120px;
        color: #004b6b;
        transition: background 0.6s ease, color 0.6s ease;
    }

    h1 {
        font-size: 60px;
        margin-bottom: 10px;
        font-weight: bold;
        color: #0077aa;
        text-shadow: 2px 2px 0px white;
        animation: fadeIn 1s ease-out;
        transition: color 0.6s ease;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    p {
        font-size: 20px;
        margin-bottom: 40px;
        color: #005f85;
        transition: color 0.6s ease;
    }

    .search-box {
        background: white;
        padding: 20px;
        border-radius: 20px;
        display: inline-block;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transition: background 0.6s ease;
    }

    input {
        width: 350px;
        padding: 12px;
        border-radius: 12px;
        border: 2px solid #8cd8ff;
        font-size: 18px;
        outline: none;
        transition: border-color 0.6s ease, background 0.6s ease, color 0.6s ease;
    }

    button {
        padding: 12px 20px;
        margin-left: 10px;
        border-radius: 12px;
        border: none;
        background: #4cc7ff;
        color: white;
        font-size: 18px;
        cursor: pointer;
        transition: 0.3s, background 0.6s ease;
    }

    select {
        margin-top: 15px;
        padding: 10px;
        border-radius: 12px;
        border: 2px solid #8cd8ff;
        font-size: 16px;
        outline: none;
        transition: border-color 0.6s ease, background 0.6s ease, color 0.6s ease;
    }

    .footer {
        margin-top: 80px;
        font-size: 14px;
        color: #006a92;
        opacity: 0.7;
        transition: color 0.6s ease;
    }

    /* „Éî„É≥„ÇØ„É¢„Éº„Éâ */
    body.pink {
        background: linear-gradient(135deg, #ffd1e8, #ffe6f4);
        color: #6b004b;
    }
    body.pink h1 { color: #cc2e8f; }
    body.pink p, body.pink .footer { color: #8a005f; }
    body.pink input { border-color: #ffb3d9; }
    body.pink input:focus { border-color: #ff80c4; }
    body.pink button { background: #ff80c4; }
    body.pink button:hover { background: #ff66b8; }
    body.pink select { border-color: #ffb3d9; }

    /* „Éë„Çπ„ÉÜ„É´„Ç∞„É™„Éº„É≥„É¢„Éº„Éâ */
    body.green {
        background: linear-gradient(135deg, #d9ffe2, #eafff1);
        color: #004b2e;
    }
    body.green h1 { color: #00aa66; }
    body.green p, body.green .footer { color: #006644; }
    body.green input { border-color: #a6ffd0; }
    body.green input:focus { border-color: #66ffb3; }
    body.green button { background: #66ffb3; }
    body.green button:hover { background: #4de699; }
    body.green select { border-color: #a6ffd0; }

    /* „ÉÄ„Éº„ÇØ„É¢„Éº„Éâ */
    body.dark {
        background: linear-gradient(135deg, #1a1a1a, #000000);
        color: #e0e0e0;
    }
    body.dark h1 { color: #66c2ff; text-shadow: 2px 2px 0px black; }
    body.dark p, body.dark .footer { color: #cccccc; }
    body.dark input {
        background: #333;
        color: white;
        border-color: #555;
    }
    body.dark input:focus { border-color: #66c2ff; }
    body.dark button {
        background: #444;
        color: white;
    }
    body.dark button:hover { background: #555; }
    body.dark select {
        background: #333;
        color: white;
        border-color: #555;
    }
</style>
</head>
<body>

<h1>ÂÆÆÊú®browser</h1>
<p>ÂÆÆÊú®Â∞ÇÁî®browser</p>

<div class="search-box">
    <input id="search" type="text" placeholder="Ê§úÁ¥¢„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ">
    <button onclick="go()">üîç</button>
    <br>
    <select id="engine">
        <option value="https://www.google.com/search?q=">Google</option>
        <option value="https://www.bing.com/search?q=">Bing</option>
        <option value="https://duckduckgo.com/?q=">DuckDuckGo</option>
    </select>

    <div style="margin-top: 20px;">
        <label style="font-size: 18px;">
            „ÉÜ„Éº„ÉûÔºö
            <select id="themeSelect" onchange="changeTheme()"
                style="padding: 8px; border-radius: 10px; border: 2px solid #8cd8ff;">
                <option value="sky">„Çπ„Ç´„Ç§„Éñ„É´„Éº</option>
                <option value="pink">„Éî„É≥„ÇØ</option>
                <option value="green">„Éë„Çπ„ÉÜ„É´„Ç∞„É™„Éº„É≥</option>
                <option value="dark">„ÉÄ„Éº„ÇØ</option>
            </select>
        </label>
    </div>
</div>

<div id="history" style="margin-top: 30px;"></div>

<div class="footer">
    tyoribrowser ‚Äî made by tyori
</div>

<script>
/* ======== Ê§úÁ¥¢Ê©üËÉΩ ======== */
function go() {
    const q = document.getElementById("search").value;
    const engine = document.getElementById("engine").value;

    if (q.trim() !== "") saveHistory(q);

    window.location.href = engine + encodeURIComponent(q);
}

/* Enter„Ç≠„Éº„ÅßÊ§úÁ¥¢ */
document.getElementById("search").addEventListener("keydown", function(e) {
    if (e.key === "Enter") go();
});

/* ======== Â±•Ê≠¥‰øùÂ≠ò ======== */
function saveHistory(word) {
    let history = JSON.parse(localStorage.getItem("searchHistory") || "[]");

    history = history.filter(item => item !== word);
    history.unshift(word);

    if (history.length > 20) history.pop();

    localStorage.setItem("searchHistory", JSON.stringify(history));
    renderHistory();
}

/* ======== Â±•Ê≠¥Ë°®Á§∫ ======== */
function renderHistory() {
    const history = JSON.parse(localStorage.getItem("searchHistory") || "[]");
    const box = document.getElementById("history");

    let html = `
        <h3 id="history-title" style="cursor:pointer;" onclick="toggleHistory()">
            Ê§úÁ¥¢Â±•Ê≠¥ <span id="arrow">‚ñº</span>
        </h3>
        <div id="history-content" style="margin-top:10px;">
    `;

    if (history.length === 0) {
        html += "<p>Ê§úÁ¥¢Â±•Ê≠¥„ÅØ„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì</p>";
    } else {
        html += `
            <button onclick="clearHistory()" 
                style="padding: 6px 12px; border-radius: 8px; border:none; background:#ffb3b3; color:white;">
                Â±•Ê≠¥„Çí„Åô„Åπ„Å¶ÂâäÈô§
            </button>
            <ul style='list-style:none; padding:0;'>
        `;
        history.forEach(item => {
            html += `
                <li style="margin: 6px 0;">
                    <button onclick="useHistory('${item}')"
                        style="padding: 8px 14px; border-radius: 10px; border:none; background:#e0f6ff;">
                        ${item}
                    </button>
                </li>`;
        });
        html += "</ul>";
    }

    html += "</div>";
    box.innerHTML = html;
}

function useHistory(word) {
    document.getElementById("search").value = word;
}

function clearHistory() {
    localStorage.removeItem("searchHistory");
    renderHistory();
}

function toggleHistory() {
    const content = document.getElementById("history-content");
    const arrow = document.getElementById("arrow");

    if (content.style.display === "none") {
        content.style.display = "block";
        arrow.textContent = "‚ñº";
    } else {
        content.style.display = "none";
        arrow.textContent = "‚ñ≤";
    }
}

/* ======== „ÉÜ„Éº„ÉûÊ©üËÉΩ ======== */
function applyTheme() {
    const theme = localStorage.getItem("theme") || "sky";

    document.body.classList.remove("pink", "green", "dark");

    if (theme !== "sky") document.body.classList.add(theme);

    document.getElementById("themeSelect").value = theme;
}

function changeTheme() {
    const theme = document.getElementById("themeSelect").value;
    localStorage.setItem("theme", theme);
    applyTheme();
}

/* ======== ÂàùÊúüÂåñ ======== */
window.onload = function() {
    applyTheme();
    renderHistory();
};
</script>

</body>
</html>

